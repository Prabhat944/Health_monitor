<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Patient</title>
  </head>
  <body style="font-family: sans-serif;">
    <section
      style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);"
    >
      <div
        style="display: flex;
  flex-direction: column;
  box-shadow: 0px 2px 5px rgb(0,0,0,0.5);
  padding: 40px;
  gap:10px;
  align-items: center;
  border-radius: 10px;"
      >
        <h1>Add Patient</h1>
        <form
          id="addPatientForm"
          style="display: flex;
  flex-direction: column;"
        >
          <label for="patientId">Patient ID:</label>
          <input
            type="text"
            id="patientId"
            name="patientId"
            required
            style="width: 100%;
    min-width: 350px;
    height: 28px;
    border-radius: 4px;"
          />
          <br />
          <label for="name">Patient Name:</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            style="width: 100%;
    min-width: 350px;
    height: 28px;
    border-radius: 4px;"
          />
          <br />
          <label for="heartRate">Heart Rate:</label>
          <input
            type="number"
            id="heartRate"
            name="heartRate"
            required
            style="width: 100%;
    min-width: 350px;
    height: 28px;
    border-radius: 4px;"
          />
          <br />
          <label for="bloodPressure">Blood Pressure:</label>
          <input
            type="text"
            id="bloodPressure"
            name="bloodPressure"
            required
            style="width: 100%;
    min-width: 350px;
    height: 28px;
    border-radius: 4px;"
          />
          <br />
          <label for="temperature">Temperature:</label>
          <input
            type="number"
            id="temperature"
            name="temperature"
            required
            style="width: 100%;
    min-width: 350px;
    height: 28px;
    border-radius: 4px;"
          />
          <br />
          <button
            type="submit"
            style="width: 100%;
    height: 40px;
    background-color:  rgb(255, 0, 106);
    color: white;
    font-weight: 600;
    font-size: larger;
    border-radius: 4px;
    border-color:  rgb(255, 0, 106);
    cursor: pointer;"
          >Add Patient</button>
        </form>
        <button
          onclick="window.location.href='/'"
          style="width: 100%;
  height: 40px;
  background-color:  rgb(255, 0, 106);
  color: white;
  font-weight: 600;
  font-size: larger;
  border-radius: 4px;
  border-color:  rgb(255, 0, 106);
  cursor: pointer;"
        >Moniter All Patient data </button>
      </div>
    </section>
    <script>
      // Check if token exists in localStorage if
      (!localStorage.getItem('token')) { window.location.href = '/login'; }
      document.getElementById('addPatientForm').addEventListener('submit', async
      (event) => { event.preventDefault(); const patientId =
      document.getElementById('patientId').value; const name =
      document.getElementById('name').value; const heartRate =
      document.getElementById('heartRate').value; const bloodPressure =
      document.getElementById('bloodPressure').value; const temperature =
      document.getElementById('temperature').value; const token =
      localStorage.getItem('token'); const response = await fetch('/api/health',
      { method: 'POST', headers: { 'Content-Type': 'application/json',
      'x-auth-token': token, }, body: JSON.stringify({ patientId, name,
      heartRate, bloodPressure, temperature }), }); const data = await
      response.json(); if (response.ok) { alert('Patient data added
      successfully!'); } else { alert('Failed to add patient data: ' +
      data.msg); } });
    </script>
  </body>
</html>